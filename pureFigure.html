<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- 分享到facebook whatsApp-->
  <meta property="og:url" class="share_url"  content="http://www.baidu.com" />
  <meta property="og:type"          content="website" />
  <meta property="og:title" class="share_title" content="分享测试标题" />
  <meta property="og:description"   content="分享测试描述！！！" />
  <meta property="og:image"         content="http://misc.360buyimg.com/mtd/pc/index_2019/1.0.0/assets/sprite/header/sprite@2x.png" />
  <title>Document</title>
  <script src="./js/tool.js"></script>
  <link rel="stylesheet" href="./css/reset.css">
  <link rel="stylesheet" href="./css/mui.min.css">
  <link rel="stylesheet" href="./css/micro-switch.css">
</head>

<body>
<section class="section-imageText">
  <div class="top d-flex justify-content-between align-items-center">
    <div class="return mui-icon mui-icon-arrowleft"></div>
    <div class="user-info d-flex align-items-center">
      <div class="head-portrait">
        <img src="./img/logo.png" alt="">
      </div>
      <div class="user-name">user name</div>
    </div>
    <div class="share mui-icon mui-icon-redo"></div>
  </div>
  <div class="image-content">
    <div>
      <h2>Title</h2>
      <img src="./img/timg%201.jpeg" alt="">
      <img src="./img/timg%201.jpeg" alt="">
    </div>
    <div class="share-popup">
      <div class="subtit">
        <p>It's a pity watch such wonderful content alone</p>
        <img src="./img/arrowhead.png" alt="">
      </div>
    </div>
    <div class="not_shown">
      <img src="./img/404.png" alt="">
    </div>
    <button class="more">More</button>
  </div>
  <div class="share-list-popup">
    <div class="d-flex share-con justify-content-between align-items-center">
      <li class="whatsapp-box">
        <a style="margin-top: .15rem;" href="javascript:whatsApp();" class="xq-whatsapp" data-action="share/whatsapp/share">
          <img src="./img/whatsapp.svg" alt="">
        </a>
      </li>
      <li class="facebook-box">
        <a href="javascript:fbShare();" class="xq-facebook">
          <img src="./img/Facebook.svg" alt="">
        </a>
      </li>
      <li class="copy-to-clip" onclick="copyToClip('11111')">
        <img src="./img/copy.png" alt="">
      </li>
    </div>
    <div class="share-cancel">Cancel</div>
  </div>

  <div class="advertising-box">
    <a href="#">
      <div class="bottom-advertising">
        <img class="advertising-img" src="./img/Artwork.png" alt="">
        <div class="advertising-title">
          <h6>fair rummy,real cash <img src="./img/hand.png" alt=""></h6>
          <p>Lorem ipsum dolor sit ametscing elit.</p>
        </div>
      </div>
    </a>
  </div>
  <div class="fx_sidebar">
    <ul>
      <li class="fx_button">
        <img src="./img/share.png" alt="">
        <p>Share</p>
      </li>
      <li class="whatsapp-box">
        <a style="margin-top: .15rem;" href="javascript:whatsApp();" class="xq-whatsapp" data-action="share/whatsapp/share">
          <img src="./img/whatsapp.png" alt="">
        </a>
      </li>
      <li class="facebook-box">
        <a href="javascript:fbShare();" class="xq-facebook">
          <img src="./img/faceboox.png" alt="">
        </a>
      </li>
      <li>
        <a href="#">
          <img src="./img/refresh.png" alt="">
        </a>
      </li>
    </ul>
  </div>
  <div class="whatsapp_group_chat">
    <a href="#">
      <img src="./img/logo.png" class="group_chat_img" alt="">
      <div class="wg_chat_content">
        <h6>join us whatsapp</h6>
        <p>Lorem ipsum dolor sit amet, co</p>
      </div>
      <img src="./img/join_whats.png" alt="" class="join_group_chat">
    </a>
  </div>
</section>
<!--自定义弹出层-->
<div class="fx_popover_box">
  <div class="fx_popover">
    <div class="popover_content">
      <div class="fx_popover_close"><img src="./img/close.png" alt=""></div>
      <div class="fx_popover_hint"><img src="./img/lamp_bulb.png" alt=""></div>
      <p>Share with your friends <br>See that's next</p>
      <button class="fx_popover_btn">Share</button>
    </div>
  </div>
</div>
<script src="./js/jquery-3.3.1.min.js"></script>
<script src="./js/mui.min.js"></script>
<script src="./js/md5.js"></script>
<script>
  // 分享到facebook
  function fbShare(contentId) {
    u = document.getElementsByClassName("share_url")[0].content;
    t = document.getElementsByClassName("share_title")[0].content;
    window.open("http://www.facebook.com/sharer.php?app_id=532797524073872&u="+ encodeURIComponent(u) + "&t="+ encodeURIComponent(t), "sharer","toolbar=0,status=0,width=626,height=436");
    // "sharer","toolbar=0,status=0,width=626,height=436" 设定分享窗口视图高度
  }
  // 分享到whatsapp
  function whatsApp(contentId){
    u = document.getElementsByClassName("share_url")[0].content;
    t = document.getElementsByClassName("share_title")[0].content;
    location="whatsapp://send?text="+ encodeURIComponent(t) + encodeURIComponent(u)+"&via=lopscoop";
  }
  /**
   * 复制内容到粘贴板
   */
  function copyToClip(content, message) {
    var aux = document.createElement("input");
    aux.setAttribute("value", content);
    document.body.appendChild(aux);
    aux.select();
    document.execCommand("copy");
    document.body.removeChild(aux);
    if (message == null) {
      mui.toast('Copied');
      $('.share-list-popup').css('display','none')
    } else{
      mui.toast(message);
    }
  }
  // 打开提示分享弹窗
  $('.subtit').click(function (){
    $('.fx_popover_box').css('display','block')
  })
  // 关闭提示分享弹窗
  $('.fx_popover_close').click(function (){
    $('.fx_popover_box').css('display','none')
  })
  //打开底部分享框
  $('.share,.fx_popover_btn,.fx_button').click(function (){
    $('.share-list-popup').css('display','block')
  })
  // whatsapp分享隐藏跳转
  $('.whatsapp-box').click(function (){
    // 底部分享框隐藏
    $('.share-list-popup').css('display','none')
    // 分享以后弹窗隐藏
    $('.fx_popover_box').css('display','none')
    // 底部提示框
    $('.share-popup').css('display','none')
    // 分享以后可以观看更多
    setTimeout(function (){
      $('.not_shown').css('display','block')
    },5000)
    setTimeout(function (){
      // 顶部出现广告
      $('.advertising-box').css('display','block')
    },1000)
  })
  // facebook分享隐藏跳转
  $('.facebook-box').click(function (){
    // 底部分享框隐藏
    $('.share-list-popup').css('display','none')
    // 分享以后弹窗隐藏
    $('.fx_popover_box').css('display','none')
    // 底部提示框
    $('.share-popup').css('display','none')
    // 分享以后可以观看更多
    setTimeout(function (){
      $('.not_shown').css('display','block')
    },5000)
    setTimeout(function (){
      // 顶部出现广告
      $('.advertising-box').css('display','block')
    },1000)
  })
  //取消分享
  $('.share-cancel').click(function (){
    $('.share-list-popup').css('display','none')
  })
</script>
</body>

</html>
